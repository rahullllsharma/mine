@import "tailwindcss/utilities";
@import "tailwindcss/components";

@layer components {
  /* Mobile styles - Native HTML datetime picker */
  .root {
    @apply relative bg-transparent min-h-[36px];
  }

  /* only omit the native elements for Chromium-based browers for the custom pickers */
  .root::-webkit-calendar-picker-indicator {
    @apply absolute top-0 right-0 bottom-0 w-auto h-auto text-transparent;
    /* with 0, it would not be above the dd selector */
    left: -5%;
    /* reset all properties for the background property besides the background-color */
    background: transparent;
  }
  .root::-webkit-date-and-time-value {
    text-align: left;
  }

  /* Mobile input placeholder styling */
  .root::placeholder {
    @apply text-gray-400 italic;
  }

  .root::-webkit-input-placeholder {
    @apply text-gray-400 italic;
  }

  .root::-moz-placeholder {
    @apply text-gray-400 italic;
  }

  .root:-ms-input-placeholder {
    @apply text-gray-400 italic;
  }

  /* Desktop styles - Ant Design DatePicker */
  .desktopRoot {
    @apply relative bg-white border-[1.5px] border-[#BDC1C3] rounded-[4px] min-h-[40px] h-11 px-12 w-full text-base placeholder-gray-400 focus:border-[#BDC1C3] focus:ring-2 focus:ring-[#BDC1C3] transition !important;
  }

  /* Left icon inside input */
  .iconLeft {
    @apply absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xl pointer-events-none z-10;
  }

  /* Padding for input to make space for left icon */
  .withLeftIcon {
    @apply pl-12;
  }

  /* Placeholder style for desktop */
  .desktopRoot::placeholder {
    @apply text-gray-400 italic;
  }

  /* Ensure placeholder is visible in Ant Design DatePicker */
  .desktopRoot .ant-picker-input input::placeholder {
    @apply text-gray-400 italic;
    opacity: 1 !important;
  }

  /* Additional placeholder styling for Ant Design DatePicker */
  .desktopRoot .ant-picker-input input::-webkit-input-placeholder {
    @apply text-gray-400 italic;
    opacity: 1 !important;
  }

  .desktopRoot .ant-picker-input input::-moz-placeholder {
    @apply text-gray-400 italic;
    opacity: 1 !important;
  }

  .desktopRoot .ant-picker-input input:-ms-input-placeholder {
    @apply text-gray-400 italic;
    opacity: 1 !important;
  }

  /* Remove default calendar icon for all browsers */
  .desktopRoot::-webkit-calendar-picker-indicator {
    opacity: 0 !important;
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    position: absolute !important;
    pointer-events: none !important;
  }

  /* Target Ant Design DatePicker input specifically */
  .desktopRoot input::-webkit-calendar-picker-indicator {
    opacity: 0 !important;
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    position: absolute !important;
    pointer-events: none !important;
  }

  /* Additional selectors to ensure complete removal */
  .desktopRoot .ant-picker-input > input::-webkit-calendar-picker-indicator {
    opacity: 0 !important;
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    position: absolute !important;
    pointer-events: none !important;
  }

  /* Hide only the suffix icon but keep the dropdown functionality */
  .desktopRoot .ant-picker-suffix {
    display: none !important;
  }

  /* Style the dropdown panel */
  .desktopRoot .ant-picker-dropdown {
    z-index: 1050 !important;
  }

  /* Ensure the dropdown panel is visible and properly styled */
  .desktopRoot .ant-picker-panel {
    border: 1px solid #d9d9d9 !important;
    border-radius: 6px !important;
    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05) !important;
  }

  /* Style the time picker panel */
  .desktopRoot .ant-picker-time-panel {
    border-left: 1px solid #f0f0f0 !important;
  }

  /* Style the time picker columns */
  .desktopRoot .ant-picker-time-panel-column {
    border-right: 1px solid #f0f0f0 !important;
  }

  /* Style the time picker cells */
  .desktopRoot .ant-picker-time-panel-cell {
    padding: 4px 8px !important;
  }

  /* Style the time picker cell when selected */
  .desktopRoot .ant-picker-time-panel-cell-selected {
    background: #1890ff !important;
    color: white !important;
  }

  /* Style the time picker cell on hover */
  .desktopRoot .ant-picker-time-panel-cell:hover {
    background: #f5f5f5 !important;
  }

  /* Hide specific Ant Design icons but allow clear button */
  .desktopRoot .ant-picker .ant-picker-suffix .anticon {
    display: none !important;
  }

  /* Ensure the input takes full width and position clear icon at the end */
  .desktopRoot .ant-picker-input {
    padding-right: 24px !important;
  }

  /* Position the clear icon just a tad left from the end of the dropdown */
  .desktopRoot .ant-picker-clear {
    position: absolute !important;
    right: 1px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 10 !important;
  }

  .desktopRoot::-webkit-date-and-time-value {
    text-align: left;
  }

  /* Responsive behavior using CSS media queries */
  .mobileInput {
    display: block;
  }

  .desktopInput {
    display: none;
  }

  /* Show desktop input and hide mobile input on larger screens */
  @media (min-width: 769px) {
    .mobileInput {
      display: none;
    }

    .desktopInput {
      display: block;
    }
  }
}
